### 5.1 Raft 基础

一个 Raft 集群包括若干服务器；对于一个典型的5服务器集群，该集群能够容忍2台机器不能正常工作，而整个系统保持正常。在任意的时间，每一个服务器一定会处于以下三种状态中的一个：Leader、Candidate、Follower。在正常情况下，只有一个服务器是Leader，剩下的服务器是Follower。Follower是被动的：它们不会发送任何请求，只是响应来自Leader和Candidate的请求。Leader来处理所有来自客户端的请求（如果一个客户端与Follower进行通信，Follower会将信息发送Leader）。Candidate 是用来选取一个新的 Leader 的，这一部分会在 5.2 节进行阐释。图-4 阐述了这些状态，以及它们之间的转换；它们的转换会在下边进行讨论。

![](/assets/Figure-4-Server-states.png)

图-4：服务器的状态。Follower只响应其他服务器的请求。如果Follower没有收到任何消息，它会成为一个Candidate并且开始一次选举。收到大多数服务器投票的Candidate会成为新的Leader。Leader在它们宕机之前会一直保持Leader的状态。

